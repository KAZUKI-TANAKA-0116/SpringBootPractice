<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>お問い合わせ編集</title>
</head>

<body>
	<h1>お問い合わせ編集</h1>

	<form th:action="@{/admin/contacts/{id}/edit(id=${contact.id})}" th:object="${contact}" method="post">
		<table border="1" cellpadding="5">
			<tr>
				<th>姓</th>
				<td><input type="text" th:field="*{lastName}" required /></td>
			</tr>
			<tr>
				<th>名</th>
				<td><input type="text" th:field="*{firstName}" required /></td>
			</tr>
			<tr>
				<th>メールアドレス</th>
				<td><input type="email" th:field="*{email}" required /></td>
			</tr>
			<tr>
				<th>電話番号</th>
				<td><input type="text" th:field="*{phone}" /></td>
			</tr>
			<tr>
				<th>郵便番号</th>
				<td><input type="text" th:field="*{zipCode}" /></td>
			</tr>
			<tr>
				<th>住所</th>
				<td><input type="text" th:field="*{address}" /></td>
			</tr>
			<tr>
				<th>建物名</th>
				<td><input type="text" th:field="*{buildingName}" /></td>
			</tr>
			<tr>
				<th>お問い合わせ種別</th>
				<td>
					<select th:field="*{contactType}">
						<option th:value="services" th:text="'サービスに関するお問い合わせ'"
							th:selected="${contact.contactType == 'services'}"></option>
						<option th:value="technicalQuestions" th:text="'技術的なお問い合わせ'"
							th:selected="${contact.contactType == 'technicalQuestions'}"></option>
						<option th:value="others" th:text="'その他'" th:selected="${contact.contactType == 'others'}">
						</option>
					</select>
					<span th:if="${#fields.hasErrors('contactType')}" th:errors="*{contactType}"
						style="color: red"></span>
				</td>
			</tr>
			<tr>
				<th>内容</th>
				<td><textarea th:field="*{body}"></textarea></td>
			</tr>
			<tr>
				<td colspan="2" style="text-align: center;">
					<button type="submit">更新</button>
				</td>
			</tr>
		</table>
	</form>

	<br />

	<form th:action="@{/admin/contacts/{id}/delete(id=${contact.id})}" method="post" style="display:inline;">
		<button type="submit" onclick="return confirm('本当に削除しますか？')">削除</button>
	</form>

	<form th:action="@{/logout}" method="post" style="display:inline;">
		<button type="submit">ログアウト</button>
	</form>
</body>

</html>